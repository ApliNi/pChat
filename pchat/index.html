<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="keywords" content="AI, Chat, Puter.js, Free, Qwen, DeepSeek, Claude, GPT">
		<meta name="description" content="本地化的轻量 AI 对话工具">
		<meta name="theme-color" content="#202124">
		<title>[Chat] Loading...</title>
		<link rel="stylesheet" href="./src/ui.css">
		<link rel="icon" href="./favicon.ico">
		<link rel="manifest" href="./manifest.json?v=1">
	</head>
	<body>
		<input type="checkbox" id="sidebar-toggle" style="display: none;">
		<header>
			<label for="sidebar-toggle" class="menu-btn">☰</label>
			<h1>[pChat.IpacEL.cc] (｡・̀ᴗ-)✧</h1>
			<div class="header-controls">
				<div class="model-select-wrapper">
					<select id="model-select" aria-label="Model Select"></select>
				</div>
				<div id="status-dot" class="status-dot"></div>
			</div>
		</header>

		<div id="chat-container">
			<aside id="sidebar">
				<div class="sidebar-header">
					<button id="new-chat-btn">[ + NEW SESSION ]</button>
					<button id="search-btn" title="Search">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
					</button>
				</div>
				<div id="history-list"></div>
				<div class="sidebar-footer">

					<button id="config-btn" style="flex: 0.4;">CONFIG</button>
					<button id="pip-window-btn">PIP</button>
				</div>
			</aside>

			<main id="right-panel">
				<div id="message-area" class="message-area"></div>
				<div id="input-container">
					<div id="image-preview-container" class="image-preview-container"></div>
					<div class="input-group">
						<textarea id="user-input" placeholder=" > Start typing a prompt" autofocus></textarea>
						<button id="attached-image-btn" title="Upload image">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"/><path d="M14 2v5a1 1 0 0 0 1 1h5"/><path d="M9 15h6"/><path d="M12 18v-6"/></svg>
							<input type="file" id="attached-image-input" accept="image/*" multiple style="display: none;">
						</button>
						<button id="send-btn">SEND</button>
					</div>
				</div>
				
				<!-- config -->
				<div id="config" class="message-area config" style="display: none;">
					<div class="message system" style="margin-bottom: 20px;">
						<span class="role-label"><span>CONFIG</span></span>
						<div class="content markdown-body"></div>
						<div class="msg-footer"></div>
					</div>
				</div>

				<!-- search -->
				<div id="search-page" class="message-area config" style="display: none;">
					<div class="message system" style="margin-bottom: 20px;">
						<span class="role-label"><span>SEARCH</span></span>
						<div class="content markdown-body"></div>
						<div class="msg-footer"></div>
					</div>
				</div>

			</main>

			<aside id="minimap"></aside>
		</div>

		<div id="image">
			<img src="" alt="Image viewer" />
		</div>

		<script async type="module" src="./src/ui.js?v=1.0.0"></script>
		<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "2d8253ba1aa34bf29e0a76988fb62ed1"}'></script>
	</body>
</html>
